process DumpDBToFile = {
   
    include "CondCore/DBCommon/data/CondDBSetup.cfi"
 
    source = EmptySource {}
    untracked PSet maxEvents = {untracked int32 input = 1}
   
    # VDrift, TTrig, TZero, Noise or channels Map from DB
    es_source calibDB = PoolDBESSource {  
	using CondDBSetup
	string connect = "sqlite_file:/afs/cern.ch/cms/CAF/CMSALCA/ALCA_MUONCALIB/DTCALIB/CRUZET/ttrig/ttrig_first_TEMPLATE.db"
	untracked uint32 authenticationMethod = 0
	VPSet toGet = {{
		# VDrift
	   	#string record = "DTMtimeRcd"
		#string tag ="vDrift"
		# TZero
		#string record = "DTT0Rcd" 
		#string tag = "t0"
		#string tag = "t0_GRUMM"
		# TTrig
	   	string record = "DTTtrigRcd"
		string tag ="ttrig"
		# Noise
		#string record = "DTStatusFlagRcd"
		#string tag ="noise"
		#string tag ="noise_GRUMM"
		# TP Dead
		#string record = "DTDeadFlagRcd"
		#string tag ="tpDead"	
		# Channels map
		#string record = "DTReadOutMappingRcd"
                #string tag = "map_GRUMM_maskFix"
		#string tag = "channelsMap"
	    }}
    }
    
    #Module to dump DB to a file
    module dumpToFile = DumpDBToFile {
	untracked string outputFileName = "/afs/cern.ch/cms/CAF/CMSALCA/ALCA_MUONCALIB/DTCALIB/CRUZET/ttrig/ttrig_first_TEMPLATE.txt"
	untracked PSet calibFileConfig = {
	    # VDrift & TTrig
	    untracked string calibConstGranularity = "bySL"
	    untracked int32 nFields = 4
	    # TZero
	    #untracked string calibConstGranularity = "byWire"
	    #untracked int32 nFields = 6
	    # Noise
	    # untracked string calibConstGranularity = "byWire"
	    # untracked int32 nFields = 7
	    # TP dead
	    #untracked string calibConstGranularity = "byWire"
	    #untracked int32 nFields = 7
	}

	#Choose what database you want to write
	#untracked string dbToDump = "VDriftDB"
   	#untracked string dbToDump = "TZeroDB"
	untracked string dbToDump = "TTrigDB"
  	#untracked string dbToDump = "NoiseDB"
	#untracked string dbToDump = "DeadDB"
   	#untracked string dbToDump = "ChannelsDB"
}	
    
    path p = {dumpToFile}

}
