process ShiftTTrigDB = {
   
    include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
    include "Geometry/DTGeometry/data/dtGeometry.cfi"
    include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"
    
    include "CondCore/DBCommon/data/CondDBSetup.cfi"
 
    source = EmptySource {}
    untracked PSet maxEvents = {untracked int32 input = 1}
   
    # VDrift, TTrig, TZero, Noise or channels Map from DB
    es_source calibDB = PoolDBESSource {  
	using CondDBSetup
	string connect = "sqlite_file:ttrig.db"
	string timetype = "runnumber"    
	untracked uint32 authenticationMethod = 0
	VPSet toGet = {{
	   	string record = "DTTtrigRcd"
		string tag ="tTrig"
	    }}
    }
    
    service = PoolDBOutputService{
	using CondDBSetup
        string connect = "sqlite_file:ttrig_new.db"
	string timetype = "runnumber"    
	untracked uint32 authenticationMethod = 0
	VPSet toPut={{
		string record = "DTTtrigRcd"
		string tag ="tTrig"
	    }}
    }
    
    
    #Module to dump DB to a file
    module shiftTTrigDB = ShiftTTrigDB {
	untracked bool debug = true
	//List of chambers to be shifted (999 means "all"):
	VPSet chambers = {
	    {   int32 wheel = -1
		int32 sector = 13
		int32 station = 4},
	    {   int32 wheel = 2
		int32 sector = 999
		int32 station = 3},
	    {   int32 wheel = 0
		int32 sector = 999
		int32 station = 999}
	}
	//List of shifts for each chamber of the previous list
	vdouble shifts = {5,10,25}
    }	
    
    path p = {shiftTTrigDB}

}
