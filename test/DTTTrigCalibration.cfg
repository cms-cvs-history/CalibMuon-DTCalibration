process TTRIGCALIBPROC = {
    
    include "CondCore/DBCommon/data/CondDBCommon.cfi"
    replace CondDBCommon.connect = "sqlite_file:ttrig.db"
    replace CondDBCommon.catalog = "file:ttrig.xml"
    
    source = PoolSource {
	untracked vstring fileNames = {
	    'file:/data/simuSamples/2CF7563E-DC33-DB11-BE97-000E0C3F13F1.root'
	    #'file:/data/simuSamples/mu_single_mu_pt_10-100_negative_10k.root'
	    #'file:/data/simuSamples/mu_single_mu_pt_10-100_positive_10k.root'
	}
	untracked int32 maxEvents = -1
	untracked uint32 debugVebosity = 10
	untracked bool   debugFlag     = true
    }
    
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
    include "Geometry/DTGeometry/data/dtGeometry.cfi"
    
    service = PoolDBOutputService{
	using CondDBCommon
	VPSet toPut={{
		string record = "DTTtrigRcd"
		string tag ="ttrig"
	    }}
    }
    
    module ttrigcalib = DTTTrigCalibration {
	# Switch on/off the verbosity
	untracked bool debug = true
	# Switch on/off the DB writing
	untracked bool findTMeanAndSigma = false
	# Label to retrieve DT digis from the event
	untracked string digiLabel = "muondtdigi" #"muonDTDigis"
	# Name of the ROOT file which will contain the time boxes
	untracked string rootFileName = "DTTimeBoxes.root"
	# Switch on/off the subtraction of t0 from pulses
	untracked bool doSubtractT0 = false
	
	# Switch for the check of noisy channels
	untracked bool checkNoisyChannels = false
	
	# Module for t0 subtraction
	untracked string tTrigMode = ''
	# Parameter set for t0 subtraction module
	untracked PSet tTrigModeConfig = {
	}
    }	
    
    path p = {ttrigcalib}

}

