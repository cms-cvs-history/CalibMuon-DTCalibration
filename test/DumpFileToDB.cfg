process DumpFileToDB = {
    
    include "CondCore/DBCommon/data/CondDBSetup.cfi"
    
    source = EmptySource {untracked int32 maxEvents = 1}
    
    service = PoolDBOutputService{
	using CondDBSetup
	string connect = "sqlite_file:database.db"
	untracked string catalog = "file:database.xml"
	string timetype = "runnumber"    
	untracked uint32 authenticationMethod = 0
	VPSet toPut={{
		# TZero
		#string record = "DTT0Rcd"
		#string tag ="tzero"
		# TTrig
		#string record = "DTTtrigRcd"
		#string tag ="ttrig"
		# Noise
		string record = "DTStatusFlagRcd"
		string tag ="noise"
	   }}
    }
    
    
    module dumpToDB = DumpFileToDB {
	untracked PSet calibFileConfig = {
	    untracked string calibConstFileName = "input_file.txt"
	    # TZero
	    #untracked string calibConstGranularity = "byWire"
	    #untracked int32 nFields = 6

	    # TTrig
	    #untracked string calibConstGranularity = "bySL"
	    #untracked int32 nFields = 4

	    # Noise
	    untracked string calibConstGranularity = "byWire"
	    untracked int32 nFields = 7
	}

	#untracked string dbToDump = "TZeroDB"
	#untracked string dbToDump = "TTrigDB"
  	untracked string dbToDump = "NoiseDB"
    }	
    
    path p = {dumpToDB}

}
