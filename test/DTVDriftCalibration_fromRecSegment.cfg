process DTVDriftCalibration_fromRecSegment = {

	source = PoolSource{
			    untracked vstring fileNames = {'file:/afs/cern.ch/cms/Physics/muon/CMSSW/DT/samples/2006-06-13/MuonRecHit.root'}
		            untracked int32 maxEvents = 100
		  	    untracked uint32 debugVebosity = 1
                	    untracked bool   debugFlag     = true
        		   }

        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
        include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
        include "Geometry/DTGeometry/data/dtGeometry.cfi"



	service = MessageLogger {
			   untracked vstring destinations = {"warning.txt","error.txt","stndoutput.txt"}
			   untracked PSet warning.txt     = { untracked string threshold = "WARNING" }
			   untracked PSet error.txt       = { untracked string threshold = "ERROR"   }
			   untracked PSet stndoutput.txt  = { untracked string threshold = "INFO"    }
	
			   untracked vstring fwkJobReports = {"FrameworkJobReport.xml"}
			   untracked vstring categories = { "FwkJob" }
			   untracked PSet FrameworkJobReport.xml = {
	        		                     untracked PSet default = { untracked int32 limit = 0 }
	                        		     untracked PSet FwkJob = { untracked int32 limit = 10000000 }
	                        		}
				}


	module dtvdriftcalibration = DTVDriftCalibration {
		# Switch on/off the verbosity
		untracked bool debug = true
		# Lable to retrieve 4D segments from the event
		untracked string recHits4DLabel = 'DTSegment4DProducer'
		# Name of the ROOT file which will contain the TMax histos
		untracked string rootFileName = "DTTMaxHistos.root"
		# Name of the txt file which will contain the calibrated v_drift
		untracked string  vDriftFileName = "DTVDriftPostCalibration.txt"
		# Module for t0 subtraction
		untracked string tTrigMode = 'DTTTrigSyncT0Only'
		# Parameter set for t0 subtraction module
		untracked PSet tTrigModeConfig = {}
		# Chosen granularity (N.B. bySL is the only one implemented at the moment)  
		untracked string tMaxGranularity = bySL 
		#  Parameter set for  DTCalibrationFile constructor
		untracked PSet calibFileConfig = {}

 	}
	
	path p = {dtvdriftcalibration}

}

