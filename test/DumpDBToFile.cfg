process DumpDBToFile = {
   
    include "CondCore/DBCommon/data/CondDBSetup.cfi"
 
    source = EmptySource {untracked int32 maxEvents = 1}
    
    # TTrig, TZero or Noise from DB
    es_source ttrig = PoolDBESSource {  
	using CondDBSetup
	string connect =  "sqlite_file:database.db"
	untracked string catalog = "file:database.xml"
	string timetype = "runnumber"    
	untracked uint32 authenticationMethod = 0
	VPSet toGet = {{
		# TZero
		#string record = "DTT0Rcd" 
		#string tag = "tzero"
		# TTrig
	   	#string record = "DTTtrigRcd"
		#string tag ="ttrig"
		# Noise
	   	string record = "DTStatusFlagRcd"
		string tag ="noise"
	   }}
    }
    

    module dumpToFile = DumpDBToFile {
	untracked string outputFileName = "output_file.txt"
	untracked PSet calibFileConfig = {
	    # TZero
	    #untracked string calibConstGranularity = "byWire"
	    #untracked int32 nFields = 6
	    # TTrig
	    #untracked string calibConstGranularity = "bySL"
	    #untracked int32 nFields = 4
	    # Noise
	    untracked string calibConstGranularity = "byWire"
	    untracked int32 nFields = 7
	}
   	untracked string dbToDump = "database.db"
   }	
    
    path p = {dumpToFile}

}
