process  DTTTrigCorrection = {
   
    include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
    include "Geometry/DTGeometry/data/dtGeometry.cfi"
    include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"
    
    include "CondCore/DBCommon/data/CondDBSetup.cfi"
 
    source = EmptySource {}
    untracked PSet maxEvents = {untracked int32 input = 1}
   
    # VDrift, TTrig, TZero, Noise or channels Map from DB
    es_source calibDB = PoolDBESSource {  
	using CondDBSetup
string timetype = "runnumber"    
	string connect = "sqlite_file:ttrig_CRUZET.db"
	untracked uint32 authenticationMethod = 0
	VPSet toGet = {{
	   	string record = "DTTtrigRcd"
		string tag ="ttrig"
	    }}
    }
    
   service = PoolDBOutputService{
	using CondDBSetup
       string connect = "sqlite_file:ttrig_corrected.db"
	untracked string timetype = "runnumber"    
	untracked uint32 authenticationMethod = 0
	VPSet toPut={{
		string record = "DTTtrigRcd"
		string tag ="ttrig"
	    }}
   }
    
    
    #Module to dump DB to a file
    module DTTTrigCorrection  = DTTTrigCorrection {
	untracked bool debug = false
	untracked double ttrigMin = 2000
	untracked double ttrigMax = 3000
    }	
    
    path p = {DTTTrigCorrection}

}
